"use strict";(self.webpackChunkfacit=self.webpackChunkfacit||[]).push([[3570],{3570:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var l=a(28381),i=a(24556),r=a(54645),n=a(4881),c=a(26257),t=a(9721),d=a(89318),o=a(50707),h=a(72534),m=a(58241),x=a(81837),j=a(89374),u=a(41531),p=a(52138),b=a(72076),g=a(57382),Z=a(66837),N=a(58468),v=a(35497),y=a(98419),P=a(65506),C=a(26385),f=a(48585),w=a(29343);const k=()=>{const{darkModeStatus:e}=(0,f.Z)(),[s,a]=(0,l.useState)(1),[k,L]=(0,l.useState)(m.LD[10]),M=(0,i.TA)({initialValues:{searchInput:"",payment:Object.keys(Z.Z).map((e=>Z.Z[e].name)),minPrice:"",maxPrice:""},onSubmit:e=>{}}),I=h.Z.filter((e=>e.name.toLowerCase().includes(M.values.searchInput.toLowerCase())&&(""===M.values.minPrice||e.balance>Number(M.values.minPrice))&&(""===M.values.maxPrice||e.balance<Number(M.values.maxPrice))&&M.values.payment.includes(e.payout))),{items:S,requestSort:F,getClassNamesFor:$}=(0,N.Z)(I),[z,A]=(0,l.useState)(!1);return(0,w.jsxs)(r.Z,{title:t.j5.crm.subMenu.customersList.text,children:[(0,w.jsxs)(n.ZP,{children:[(0,w.jsxs)(n.Vv,{children:[(0,w.jsx)("label",{className:"border-0 bg-transparent cursor-pointer me-0",htmlFor:"searchInput",children:(0,w.jsx)(j.Z,{icon:"Search",size:"2x",color:"primary"})}),(0,w.jsx)(u.Z,{id:"searchInput",type:"search",className:"border-0 shadow-none bg-transparent",placeholder:"Search customer...",onChange:M.handleChange,value:M.values.searchInput})]}),(0,w.jsxs)(n.$o,{children:[(0,w.jsxs)(p.ZP,{children:[(0,w.jsx)(p.Z_,{hasIcon:!1,children:(0,w.jsx)(x.Z,{icon:"FilterAlt",color:"dark",isLight:!0,className:"btn-only-icon position-relative","aria-label":"Filter",children:h.Z.length!==I.length&&(0,w.jsx)(y.Z,{desc:"Filtering applied",trigger:"hover",children:(0,w.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge border border-light rounded-circle bg-danger p-2",children:(0,w.jsx)("span",{className:"visually-hidden",children:"there is filtering"})})})})}),(0,w.jsx)(p.h_,{isAlignmentEnd:!0,size:"lg",children:(0,w.jsx)("div",{className:"container py-2",children:(0,w.jsxs)("div",{className:"row g-3",children:[(0,w.jsx)(b.Z,{label:"Balance",className:"col-12",children:(0,w.jsxs)(v.Z,{children:[(0,w.jsx)(u.Z,{id:"minPrice",ariaLabel:"Minimum price",placeholder:"Min.",onChange:M.handleChange,value:M.values.minPrice}),(0,w.jsx)(v.O,{children:"to"}),(0,w.jsx)(u.Z,{id:"maxPrice",ariaLabel:"Maximum price",placeholder:"Max.",onChange:M.handleChange,value:M.values.maxPrice})]})}),(0,w.jsx)(b.Z,{label:"Payments",className:"col-12",children:(0,w.jsx)(g.N,{children:Object.keys(Z.Z).map((e=>(0,w.jsx)(g.Z,{id:Z.Z[e].name,label:Z.Z[e].name,name:"payment",value:Z.Z[e].name,onChange:M.handleChange,checked:M.values.payment.includes(Z.Z[e].name)},Z.Z[e].name)))})})]})})})]}),(0,w.jsx)(n.Ar,{}),(0,w.jsx)(x.Z,{icon:"PersonAdd",color:"primary",isLight:!0,onClick:()=>A(!0),children:"New Customer"})]})]}),(0,w.jsx)(c.Z,{children:(0,w.jsx)("div",{className:"row h-100",children:(0,w.jsx)("div",{className:"col-12",children:(0,w.jsxs)(d.ZP,{stretch:!0,children:[(0,w.jsx)(d.eW,{isScrollable:!0,className:"table-responsive",children:(0,w.jsxs)("table",{className:"table table-modern table-hover",children:[(0,w.jsx)("thead",{children:(0,w.jsxs)("tr",{children:[(0,w.jsxs)("th",{onClick:()=>F("name"),className:"cursor-pointer text-decoration-underline",children:["Customer"," ",(0,w.jsx)(j.Z,{size:"lg",className:$("name"),icon:"FilterList"})]}),(0,w.jsx)("th",{children:"Email"}),(0,w.jsx)("th",{children:"Membership Date"}),(0,w.jsxs)("th",{onClick:()=>F("balance"),className:"cursor-pointer text-decoration-underline",children:["Balance",(0,w.jsx)(j.Z,{size:"lg",className:$("balance"),icon:"FilterList"})]}),(0,w.jsxs)("th",{onClick:()=>F("payout"),className:"cursor-pointer text-decoration-underline",children:["Payout"," ",(0,w.jsx)(j.Z,{size:"lg",className:$("payout"),icon:"FilterList"})]}),(0,w.jsx)("td",{})]})}),(0,w.jsx)("tbody",{children:(0,m.c9)(S,s,k).map((s=>(0,w.jsxs)("tr",{children:[(0,w.jsx)("td",{children:(0,w.jsxs)("div",{className:"d-flex align-items-center",children:[(0,w.jsx)("div",{className:"flex-shrink-0",children:(0,w.jsx)("div",{className:"ratio ratio-1x1 me-3",style:{width:48},children:(0,w.jsx)("div",{className:`bg-l${e?"o25":"25"}-${(0,C.M)(s.id)} text-${(0,C.M)(s.id)} rounded-2 d-flex align-items-center justify-content-center`,children:(0,w.jsx)("span",{className:"fw-bold",children:(0,o.V8)(s.name)})})})}),(0,w.jsxs)("div",{className:"flex-grow-1",children:[(0,w.jsx)("div",{className:"fs-6 fw-bold",children:s.name}),(0,w.jsxs)("div",{className:"text-muted",children:[(0,w.jsx)(j.Z,{icon:"Label"})," ",(0,w.jsx)("small",{children:s.type})]})]})]})}),(0,w.jsx)("td",{children:(0,w.jsx)(x.Z,{isLink:!0,color:"light",icon:"Email",className:"text-lowercase",tag:"a",href:`mailto:${s.email}`,children:s.email})}),(0,w.jsxs)("td",{children:[(0,w.jsx)("div",{children:s.membershipDate.format("ll")}),(0,w.jsx)("div",{children:(0,w.jsx)("small",{className:"text-muted",children:s.membershipDate.fromNow()})})]}),(0,w.jsx)("td",{children:(0,o.XY)(s.balance)}),(0,w.jsxs)("td",{children:[(0,w.jsx)(j.Z,{size:"lg",icon:`custom ${s.payout.toLowerCase()}`})," ",s.payout]}),(0,w.jsx)("td",{children:(0,w.jsxs)(p.ZP,{children:[(0,w.jsx)(p.Z_,{hasIcon:!1,children:(0,w.jsx)(x.Z,{icon:"MoreHoriz",color:"dark",isLight:!0,shadow:"sm","aria-label":"More actions"})}),(0,w.jsx)(p.h_,{isAlignmentEnd:!0,children:(0,w.jsx)(p.hP,{children:(0,w.jsx)(x.Z,{icon:"Visibility",tag:"a",to:`../${t.j5.crm.subMenu.customerID.path}/${s.id}`,children:"View"})})})]})})]},s.id)))})]})}),(0,w.jsx)(m.ZP,{data:I,label:"customers",setCurrentPage:a,currentPage:s,perPage:k,setPerPage:L})]})})})}),(0,w.jsx)(P.Z,{setIsOpen:A,isOpen:z,id:"0"})]})}}}]);
//# sourceMappingURL=3570.3bb46b7b.chunk.js.map